(this.webpackJsonparrows=this.webpackJsonparrows||[]).push([[0],{174:function(e,t,n){e.exports=n(352)},180:function(e,t,n){},233:function(e,t,n){},234:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){},237:function(e,t,n){},342:function(e,t,n){},347:function(e,t,n){},348:function(e,t,n){},349:function(e,t,n){},350:function(e,t,n){},351:function(e,t,n){},352:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(4),c=n.n(o),i=n(62),s=n(16),l=n(17),u=n(20),m=n(18),p=n(23),h=n(19),d=n(35),b=n.n(d),f={initialGameStatus:{ready:!0,run:!1},initialGameScore:{successCount:0,errorCount:0,allCount:0,points:0},initialGameTimer:10},v=r.a.createContext(f),y=n(355),O=(n(180),y.a.Title),k=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(O,{className:"page-title"},"Arrows Game")}}]),t}(a.PureComponent),g=n(357),j=n(29),w=n.n(j),_=(n(233),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.context,t=e.timer,n=e.stopTimer,a=e.status;0===t&&a.run&&n()}},{key:"render",value:function(){var e=this.context.timer;return r.a.createElement("div",{className:"time-clock"},r.a.createElement(g.a,{inputReadOnly:!0,value:w()(e,"ss"),size:"large"}),r.a.createElement("div",{className:"time-clock__mask"}))}}]),t}(a.PureComponent));_.contextType=v;var E=n(37),C=n(7),x=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.disabled,a=e.size,o=e.onClickHandler,c=e.iconType,i=e.text,s={type:t,disabled:n,size:a,onClick:o};return r.a.createElement(E.a,s,r.a.createElement(C.a,{type:c}),i)}}]),t}(a.PureComponent),T=(n(234),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.context,t=e.status,n=e.resetTimer;return r.a.createElement("div",{className:"actions-bar"},r.a.createElement("div",{class:"actions-bar__left"},r.a.createElement(_,null)),r.a.createElement("div",{class:"actions-bar__right"},r.a.createElement(x,{type:"danger",disabled:!t.run&&t.ready,size:"large",onClickHandler:n,iconType:"reload",text:"Reiniciar"})))}}]),t}(a.PureComponent));T.contextType=v;var S=n(170),P=(n(235),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).randomOption=n.randomOption.bind(Object(p.a)(n)),n.doneProccess=n.doneProccess.bind(Object(p.a)(n)),n.errorProccess=n.errorProccess.bind(Object(p.a)(n)),n.doneProccessKeyDown=n.doneProccessKeyDown.bind(Object(p.a)(n)),n.errorProccessKeyDown=n.errorProccessKeyDown.bind(Object(p.a)(n)),n.successPoint=1,n.errorPoint=-2,n.options=[{id:"bottom",icon:"".concat("/arrows-game","/down-arrow-key.png")},{id:"top",icon:"".concat("/arrows-game","/up-arrow-key.png")},{id:"left",icon:"".concat("/arrows-game","/left-arrow-key.png")},{id:"right",icon:"".concat("/arrows-game","/right-arrow-key.png")}],n.state={listItems:[n.randomOption(),n.randomOption(),n.randomOption(),n.randomOption(),n.randomOption(),n.randomOption()],keyDownSuccess:null},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.state.listItems,t=this.context,n=t.status,a=t.isKeyDown,r=t.lastId,o=t.startTimer,c=e[t.score.successCount].id;if(null===r||!n.ready)return null;n.run||o(),c===r?a?this.doneProccessKeyDown():this.doneProccess():a?this.errorProccessKeyDown():this.errorProccess()}},{key:"randomOption",value:function(){var e=Math.floor(Math.random()*this.options.length);return this.options[e]}},{key:"doneProccess",value:function(){var e=this.state.listItems,t=this.context,n=t.updateScore,a=t.score;this.setState({listItems:[].concat(Object(S.a)(e),[this.randomOption()]),keyDownSuccess:null}),n(Object(i.a)({},a,{points:a.points+this.successPoint,successCount:a.successCount+1}))}},{key:"errorProccess",value:function(){var e=this.context,t=e.updateScore,n=e.score;this.setState({keyDownSuccess:null}),t(Object(i.a)({},n,{points:n.points+this.errorPoint,errorCount:n.errorCount+1}))}},{key:"doneProccessKeyDown",value:function(){this.setState({keyDownSuccess:!0})}},{key:"errorProccessKeyDown",value:function(){this.setState({keyDownSuccess:!1})}},{key:"render",value:function(){var e=this.state,t=e.listItems,n=e.keyDownSuccess,a=this.context,o=a.isKeyDown,c=a.status,i=a.score,s="".concat("arrow-key",n?"--success":"--error");return r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"game__container",style:{left:"".concat(-100*i.successCount,"px")}},t.map((function(e,t){var n=t===i.successCount&&o&&c.run&&s;return r.a.createElement("img",{className:"".concat("arrow-key"," ").concat(n),src:e.icon,alt:""})}))))}}]),t}(a.PureComponent));P.contextType=v;var N=n(356),D=n(61),G=(n(236),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).onCancelHandler=n.onCancelHandler.bind(Object(p.a)(n)),n.onOkHandler=n.onOkHandler.bind(Object(p.a)(n)),n.toggleShowAgainChecbox=n.toggleShowAgainChecbox.bind(Object(p.a)(n)),n.state={visible:!0,showAgain:!0,setCookie:b.a.load("onboarding")},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"onCancelHandler",value:function(){this.setState({visible:!1})}},{key:"onOkHandler",value:function(){var e=this.state.showAgain;this.onCancelHandler(),e||b.a.save("onboarding",!0)}},{key:"toggleShowAgainChecbox",value:function(){this.setState((function(e){return{showAgain:!e.showAgain}}))}},{key:"render",value:function(){var e=this.state,t=e.visible,n=e.setCookie,a={className:"onboarding",title:"Bienvenid@ a arrow game",okText:"Comenzar",visible:t&&!n,centered:!0,closable:!1,onOk:this.onOkHandler,onCancel:this.onCancelHandler};return r.a.createElement(N.a,a,this.content)}},{key:"content",get:function(){var e=this.state.showAgain;return r.a.createElement(a.Fragment,null,r.a.createElement("p",null,"Para comenzar a jugar, tentr\xe1s que utlizar el teclado."),r.a.createElement("img",{className:"onboarding__picture",src:"".concat("/arrows-game","/arrows-keyboard-onboarding.png"),alt:"",width:"100%"}),r.a.createElement(D.a,{className:"onboarding__checkbox",checked:!e,onChange:this.toggleShowAgainChecbox},"No volver a mostrar este mensaje"))}}]),t}(a.PureComponent)),I=n(358),z=n(353),K=(n(237),[{title:"Motivo",dataIndex:"concept",key:"concept"},{title:"Cantidad",dataIndex:"quantity",key:"quantity",align:"right"},{title:"Puntos",dataIndex:"points",key:"points",align:"right",render:function(e){var t="geekblue",n=" ";return e<0?(t="volcano",n=""):e>0&&(t="green",n="+"),r.a.createElement("span",null,r.a.createElement(I.a,{className:"tag",color:t},"".concat(n).concat(e)))}}]),A=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.context.score,t=[{key:"1",concept:"Movimientos acertados",quantity:e.successCount,points:1*e.successCount},{key:"2",concept:"Movimientos fallidos",quantity:e.errorCount,points:-2*e.errorCount}];return r.a.createElement(z.a,{bordered:!0,columns:K,dataSource:t,pagination:!1,size:"small"})}}]),t}(a.PureComponent);A.contextType=v;var H=n(354),R=(n(342),y.a.Title),M=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.text;return r.a.createElement(H.a,{className:"card-wrapper",title:this.title},r.a.createElement(R,{level:2},e))}},{key:"title",get:function(){var e=this.props,t=e.title,n=e.iconType;return t?r.a.createElement(a.Fragment,null,r.a.createElement(C.a,{type:n})," ".concat(t)):null}}]),t}(a.PureComponent);M.contextType=v;n(347);var q=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).onResetGame=n.onResetGame.bind(Object(p.a)(n)),n.onShareGame=n.onShareGame.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"onResetGame",value:function(){(0,this.context.resetTimer)()}},{key:"onShareGame",value:function(){var e=this.context.score,t="http://twitter.com/share?",n={url:"https://framlopez.github.io/arrows-game/",text:"Mi nuevo score es: ".concat(e.points," puntos"),via:"framlopez_",hashtags:"ArrowsGame,React"};for(var a in n)t+="&"+a+"="+encodeURIComponent(n[a]);window.open(t,"","left=0,top=0,width=550,height=450,personalbar=0,toolbar=0,scrollbars=0,resizable=0")}},{key:"render",value:function(){var e={title:"Resultados",okText:"Compartir",cancelText:"Volver a jugar",visible:this.props.visible,centered:!0,onOk:this.onShareGame,onCancel:this.onResetGame};return r.a.createElement(N.a,e,this.content)}},{key:"pointsText",get:function(){var e=this.context.score;return 1===e.points?"".concat(e.points," punto"):"".concat(e.points," puntos")}},{key:"content",get:function(){return r.a.createElement("div",{className:"score-modal"},r.a.createElement(M,{text:this.pointsText}),r.a.createElement(A,null))}}]),t}(a.PureComponent);q.contextType=v;n(348);var F=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.context.score;return r.a.createElement("div",{className:"score-cards"},r.a.createElement(M,{title:"Mejor puntaje",iconType:"crown",text:b.a.load("best_score")||"-"}),r.a.createElement(M,{title:"Puntaje partida",iconType:"caret-right",text:e.points}))}}]),t}(a.PureComponent);F.contextType=v;n(349);var L=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"contact-footer"},r.a.createElement("div",{className:"contact-footer__left"},r.a.createElement("span",{className:"contact-footer__left__span"},"by Francisco Tom\xe1s L\xf3pez")),r.a.createElement("div",{className:"contact-footer__right"},r.a.createElement("a",{className:"contact-footer__right__link-picture contact-footer__right__link-picture--twitter",rel:"noopener noreferrer",href:"https://twitter.com/framlopez_",target:"_blank"}),r.a.createElement("a",{className:"contact-footer__right__link-picture contact-footer__right__link-picture--github",rel:"noopener noreferrer",href:"https://github.com/framlopez",target:"_blank"}),r.a.createElement("a",{className:"contact-footer__right__link-picture contact-footer__right__link-picture--instagram",rel:"noopener noreferrer",href:"https://www.instagram.com/framlopez_",target:"_blank"}),r.a.createElement("a",{className:"contact-footer__right__link-picture contact-footer__right__link-picture--linkedin",rel:"noopener noreferrer",href:"https://www.linkedin.com/in/framlopez",target:"_blank"})))}}]),t}(a.PureComponent),U=(n(350),function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).resetTimer=n.resetTimer.bind(Object(p.a)(n)),n.startTimer=n.startTimer.bind(Object(p.a)(n)),n.stopTimer=n.stopTimer.bind(Object(p.a)(n)),n.updateScore=n.updateScore.bind(Object(p.a)(n));var a=f.initialGameStatus,r=f.initialGameScore,o=f.initialGameTimer;return n.state={status:a,score:r,timer:o,lastId:null,isKeyDown:!1},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",(function(t){var n;switch(t.which){case 37:n="left";break;case 38:n="top";break;case 39:n="right";break;case 40:n="bottom";break;default:return null}e.setState({lastId:n,isKeyDown:!0})})),document.addEventListener("keyup",(function(){e.setState((function(e){return{score:Object(i.a)({},e.score,{allCount:e.status.run?e.score.allCount+1:e.score.allCount}),isKeyDown:!1}}))}))}},{key:"resetTimer",value:function(){var e=f.initialGameStatus,t=f.initialGameScore,n=f.initialGameTimer,a=this.state.score;(a.points>b.a.load("best_score")||!b.a.load("best_score"))&&b.a.save("best_score",a.points),clearInterval(this.timer),this.setState({status:e,timer:n,score:t,lastId:null})}},{key:"startTimer",value:function(){var e=this;this.setState({status:{run:!0,ready:!0}}),this.timer=setInterval((function(){e.setState((function(e){return{timer:e.timer-1}}))}),1e3)}},{key:"stopTimer",value:function(){clearInterval(this.timer),this.setState({status:{run:!1,ready:!1},lastId:null})}},{key:"updateScore",value:function(e){this.setState((function(t){return{score:e,lastId:null}}))}},{key:"render",value:function(){var e=this.state.status,t=Object(i.a)({},this.state,{resetTimer:this.resetTimer,startTimer:this.startTimer,stopTimer:this.stopTimer,updateScore:this.updateScore});return r.a.createElement(v.Provider,{value:t},r.a.createElement("div",{className:"aplication"},r.a.createElement(k,null),r.a.createElement(T,null),r.a.createElement(P,null),r.a.createElement(F,null),r.a.createElement(G,null),r.a.createElement(q,{visible:!e.run&&!e.ready}),r.a.createElement(L,null)))}}]),t}(a.PureComponent));n(351);c.a.render(r.a.createElement(U,null),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.e614c03c.chunk.js.map