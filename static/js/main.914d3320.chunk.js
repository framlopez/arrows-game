(this.webpackJsonparrows=this.webpackJsonparrows||[]).push([[0],{174:function(e,t,n){e.exports=n(341)},179:function(e,t,n){},341:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(4),o=n.n(i),c=(n(179),n(62)),s=n(18),l=n(19),u=n(22),d=n(20),m=n(24),p=n(21),h={initialGameStatus:{ready:!0,run:!1},initialGameScore:{successCount:0,errorCount:0,allCount:0,points:0},initialGameTimer:10},b=r.a.createContext(h),v=n(344),y=v.a.Title,O=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(y,{className:"app-title"},"Arrows Game")}}]),t}(a.PureComponent),j=n(346),f=n(29),k=n.n(f),g=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.context,t=e.timer,n=e.stopTimer,a=e.status;0===t&&a.run&&n()}},{key:"render",value:function(){var e=this.context.timer;return r.a.createElement("div",{className:"app-time-clock"},r.a.createElement(j.a,{inputReadOnly:!0,value:k()(e,"ss"),size:"large"}),r.a.createElement("div",{className:"app-time-clock-mask"}))}}]),t}(a.PureComponent);g.contextType=b;var C=n(37),E=n(7),w=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.disabled,a=e.size,i=e.onClickHandler,o=e.iconType,c=e.text,s={type:t,disabled:n,size:a,onClick:i};return r.a.createElement(C.a,s,r.a.createElement(E.a,{type:o}),c)}}]),t}(a.PureComponent),T=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.context,t=e.status,n=e.resetTimer;return r.a.createElement("div",{className:"app-toolbar"},r.a.createElement("div",{class:"app-toolbar__left"},r.a.createElement(g,null)),r.a.createElement("div",{class:"app-toolbar__right"},r.a.createElement(w,{type:"danger",disabled:!t.run&&t.ready,size:"large",onClickHandler:n,iconType:"reload",text:"Reiniciar"}),r.a.createElement(w,{type:"default",size:"large",onClickHandler:function(){console.log("share action")},iconType:"share-alt",text:"Compartir"})))}}]),t}(a.PureComponent);T.contextType=b;var x=n(170),S=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).randomOption=n.randomOption.bind(Object(m.a)(n)),n.doneProccess=n.doneProccess.bind(Object(m.a)(n)),n.errorProccess=n.errorProccess.bind(Object(m.a)(n)),n.doneProccessKeyDown=n.doneProccessKeyDown.bind(Object(m.a)(n)),n.errorProccessKeyDown=n.errorProccessKeyDown.bind(Object(m.a)(n)),n.successPoint=1,n.errorPoint=-2,n.options=[{id:"bottom",icon:"https://img.icons8.com/plasticine/100/000000/expand-arrow.png"},{id:"top",icon:"https://img.icons8.com/plasticine/80/000000/collapse-arrow.png"},{id:"left",icon:"https://img.icons8.com/plasticine/100/000000/left-squared.png"},{id:"right",icon:"https://img.icons8.com/plasticine/100/000000/right-squared.png"}],n.state={listItems:[n.randomOption(),n.randomOption(),n.randomOption(),n.randomOption(),n.randomOption(),n.randomOption()],keyDownSuccess:null},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.state.listItems,t=this.context,n=t.status,a=t.isKeyDown,r=t.lastId,i=t.startTimer,o=e[0].id;if(null===r||!n.ready)return null;n.run||i(),o===r?a?this.doneProccessKeyDown():this.doneProccess():a?this.errorProccessKeyDown():this.errorProccess()}},{key:"randomOption",value:function(){var e=Math.floor(Math.random()*this.options.length);return this.options[e]}},{key:"doneProccess",value:function(){var e=this.context,t=e.updateScore,n=e.score,a=this.state.listItems;a.shift(),this.setState({listItems:[].concat(Object(x.a)(a),[this.randomOption()]),keyDownSuccess:null}),t(Object(c.a)({},n,{points:n.points+this.successPoint,successCount:n.successCount+1}))}},{key:"errorProccess",value:function(){var e=this.context,t=e.updateScore,n=e.score;this.setState({keyDownSuccess:null}),t(Object(c.a)({},n,{points:n.points+this.errorPoint,errorCount:n.errorCount+1}))}},{key:"doneProccessKeyDown",value:function(){this.setState({keyDownSuccess:!0})}},{key:"errorProccessKeyDown",value:function(){this.setState({keyDownSuccess:!1})}},{key:"render",value:function(){var e=this.context,t=e.isKeyDown,n=e.status,a=this.state,i=a.listItems,o=a.keyDownSuccess,c=o?"success":"error";return r.a.createElement("div",{className:"app-game"},i.map((function(e,a){var i=0===a&&t&&n.run?c:"default";return r.a.createElement("img",{className:i,src:e.icon,width:"100",height:"100",alt:""})})))}}]),t}(a.PureComponent);S.contextType=b;var P=n(345),D=n(61),I=n(36),H=n.n(I),K=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).onCancelHandler=n.onCancelHandler.bind(Object(m.a)(n)),n.onOkHandler=n.onOkHandler.bind(Object(m.a)(n)),n.toggleShowAgainChecbox=n.toggleShowAgainChecbox.bind(Object(m.a)(n)),n.state={visible:!0,showAgain:!0,setCookie:H.a.load("onboarding")},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"onCancelHandler",value:function(){this.setState({visible:!1})}},{key:"onOkHandler",value:function(){var e=this.state.showAgain;this.onCancelHandler(),e||H.a.save("onboarding",!0)}},{key:"toggleShowAgainChecbox",value:function(){this.setState((function(e){return{showAgain:!e.showAgain}}))}},{key:"render",value:function(){var e=this.state,t=e.visible,n=e.setCookie,a={className:"app-onboarding",title:"Bienvenid@ a arrow game",okText:"Comenzar",visible:t&&!n,centered:!0,closable:!1,onOk:this.onOkHandler,onCancel:this.onCancelHandler};return r.a.createElement(P.a,a,this.content)}},{key:"content",get:function(){var e=this.state.showAgain;return r.a.createElement(a.Fragment,null,r.a.createElement("p",null,"Para comenzar a jugar, tentr\xe1s que utlizar el teclado."),r.a.createElement("img",{src:"/arrows-keyboard-onboarding.png",alt:"",width:"100%"}),r.a.createElement(D.a,{checked:!e,onChange:this.toggleShowAgainChecbox},"No volver a mostrar este mensaje"))}}]),t}(a.PureComponent),A=n(347),G=n(342),N=[{title:"Motivo",dataIndex:"id1",key:"id1"},{title:"Cantidad",dataIndex:"id2",key:"id2",align:"right"},{title:"Puntos",dataIndex:"id3",key:"id3",render:function(e){var t="geekblue",n=" ";return e<0?(t="volcano",n=""):e>0&&(t="green",n="+"),r.a.createElement("span",null,r.a.createElement(A.a,{color:t},"".concat(n).concat(e)))}}],z=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.context.score,t=[{key:"1",id1:"Movimientos acertados",id2:e.successCount,id3:1*e.successCount},{key:"2",id1:"Movimientos fallidos",id2:e.errorCount,id3:-2*e.errorCount}];return r.a.createElement(G.a,{bordered:!0,columns:N,dataSource:t,pagination:!1,size:"small"})}}]),t}(a.PureComponent);z.contextType=b;var _=n(343),M=v.a.Title,q=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.text;return r.a.createElement(_.a,{title:this.title},r.a.createElement(M,null,e))}},{key:"title",get:function(){var e=this.props,t=e.title,n=e.iconType;return r.a.createElement(a.Fragment,null,r.a.createElement(E.a,{type:n})," ".concat(t))}}]),t}(a.PureComponent);q.contextType=b;var F=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).onCancelHandler=n.onCancelHandler.bind(Object(m.a)(n)),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"onCancelHandler",value:function(){(0,this.context.resetTimer)()}},{key:"render",value:function(){var e={title:"Resultados",okText:"Continuar",visible:this.props.visible,centered:!0,closable:!1,onOk:this.onCancelHandler,onCancel:this.onCancelHandler};return r.a.createElement(P.a,e,this.content)}},{key:"content",get:function(){var e=this.context.score;return r.a.createElement(a.Fragment,null,r.a.createElement(q,{title:"Puntaje partida",iconType:"caret-right",text:e.points}),r.a.createElement(z,null))}}]),t}(a.PureComponent);F.contextType=b;var R=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.context.score;return r.a.createElement("div",{className:"app-score-cards"},r.a.createElement(q,{title:"Mejor puntaje",iconType:"crown",text:H.a.load("best_score")||"-"}),r.a.createElement(q,{title:"Puntaje partida",iconType:"caret-right",text:e.points}))}}]),t}(a.PureComponent);R.contextType=b;var B=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).resetTimer=n.resetTimer.bind(Object(m.a)(n)),n.startTimer=n.startTimer.bind(Object(m.a)(n)),n.stopTimer=n.stopTimer.bind(Object(m.a)(n)),n.updateScore=n.updateScore.bind(Object(m.a)(n));var a=h.initialGameStatus,r=h.initialGameScore,i=h.initialGameTimer;return n.state={status:a,score:r,timer:i,lastId:null,isKeyDown:!1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",(function(t){var n;switch(t.which){case 37:n="left";break;case 38:n="top";break;case 39:n="right";break;case 40:n="bottom";break;default:return null}e.setState({lastId:n,isKeyDown:!0})})),document.addEventListener("keyup",(function(){e.setState((function(e){return{score:Object(c.a)({},e.score,{allCount:e.status.run?e.score.allCount+1:e.score.allCount}),isKeyDown:!1}}))}))}},{key:"resetTimer",value:function(){var e=h.initialGameStatus,t=h.initialGameScore,n=h.initialGameTimer,a=this.state.score;(a.points>H.a.load("best_score")||!H.a.load("best_score"))&&H.a.save("best_score",a.points),clearInterval(this.timer),this.setState({status:e,timer:n,score:t,lastId:null})}},{key:"startTimer",value:function(){var e=this;this.setState({status:{run:!0,ready:!0}}),this.timer=setInterval((function(){e.setState((function(e){return{timer:e.timer-1}}))}),1e3)}},{key:"stopTimer",value:function(){clearInterval(this.timer),this.setState({status:{run:!1,ready:!1},lastId:null})}},{key:"updateScore",value:function(e){this.setState((function(t){return{score:e,lastId:null}}))}},{key:"render",value:function(){var e=this.state.status,t=Object(c.a)({},this.state,{resetTimer:this.resetTimer,startTimer:this.startTimer,stopTimer:this.stopTimer,updateScore:this.updateScore});return r.a.createElement(b.Provider,{value:t},r.a.createElement("div",{className:"app-container"},r.a.createElement(O,null),r.a.createElement(T,null),r.a.createElement(S,null),r.a.createElement(R,null),r.a.createElement(K,null),r.a.createElement(F,{visible:!e.run&&!e.ready})))}}]),t}(a.PureComponent);o.a.render(r.a.createElement(B,null),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.914d3320.chunk.js.map