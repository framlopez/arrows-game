(this.webpackJsonparrows=this.webpackJsonparrows||[]).push([[0],{174:function(e,t,n){e.exports=n(345)},180:function(e,t,n){},233:function(e,t,n){},234:function(e,t,n){},343:function(e,t,n){},344:function(e,t,n){},345:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(4),i=n.n(o),c=n(62),s=n(18),l=n(19),u=n(22),m=n(20),d=n(23),h=n(21),p=n(35),b=n.n(p),v={initialGameStatus:{ready:!0,run:!1},initialGameScore:{successCount:0,errorCount:0,allCount:0,points:0},initialGameTimer:10},y=r.a.createContext(v),O=n(348),f=(n(180),O.a.Title),j=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(f,{className:"page-title"},"Arrows Game")}}]),t}(a.PureComponent),k=n(350),g=n(29),w=n.n(g),C=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.context,t=e.timer,n=e.stopTimer,a=e.status;0===t&&a.run&&n()}},{key:"render",value:function(){var e=this.context.timer;return r.a.createElement("div",{className:"app-time-clock"},r.a.createElement(k.a,{inputReadOnly:!0,value:w()(e,"ss"),size:"large"}),r.a.createElement("div",{className:"app-time-clock-mask"}))}}]),t}(a.PureComponent);C.contextType=y;var E=n(37),S=n(7),T=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.disabled,a=e.size,o=e.onClickHandler,i=e.iconType,c=e.text,s={type:t,disabled:n,size:a,onClick:o};return r.a.createElement(E.a,s,r.a.createElement(S.a,{type:i}),c)}}]),t}(a.PureComponent),x=(n(233),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.context,t=e.status,n=e.resetTimer;return r.a.createElement("div",{className:"actions-bar"},r.a.createElement("div",{class:"actions-bar__left"},r.a.createElement(C,null)),r.a.createElement("div",{class:"actions-bar__right"},r.a.createElement(T,{type:"danger",disabled:!t.run&&t.ready,size:"large",onClickHandler:n,iconType:"reload",text:"Reiniciar"})))}}]),t}(a.PureComponent));x.contextType=y;var P=n(170),D=(n(234),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).randomOption=n.randomOption.bind(Object(d.a)(n)),n.doneProccess=n.doneProccess.bind(Object(d.a)(n)),n.errorProccess=n.errorProccess.bind(Object(d.a)(n)),n.doneProccessKeyDown=n.doneProccessKeyDown.bind(Object(d.a)(n)),n.errorProccessKeyDown=n.errorProccessKeyDown.bind(Object(d.a)(n)),n.successPoint=1,n.errorPoint=-2,n.options=[{id:"bottom",icon:"https://framlopez.github.io/arrows-game/down-arrow-key.png"},{id:"top",icon:"https://framlopez.github.io/arrows-game/up-arrow-key.png"},{id:"left",icon:"https://framlopez.github.io/arrows-game/left-arrow-key.png"},{id:"right",icon:"https://framlopez.github.io/arrows-game/right-arrow-key.png"}],n.state={listItems:[n.randomOption(),n.randomOption(),n.randomOption(),n.randomOption(),n.randomOption(),n.randomOption()],keyDownSuccess:null},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.state.listItems,t=this.context,n=t.status,a=t.isKeyDown,r=t.lastId,o=t.startTimer,i=e[t.score.successCount].id;if(null===r||!n.ready)return null;n.run||o(),i===r?a?this.doneProccessKeyDown():this.doneProccess():a?this.errorProccessKeyDown():this.errorProccess()}},{key:"randomOption",value:function(){var e=Math.floor(Math.random()*this.options.length);return this.options[e]}},{key:"doneProccess",value:function(){var e=this.state.listItems,t=this.context,n=t.updateScore,a=t.score;this.setState({listItems:[].concat(Object(P.a)(e),[this.randomOption()]),keyDownSuccess:null}),n(Object(c.a)({},a,{points:a.points+this.successPoint,successCount:a.successCount+1}))}},{key:"errorProccess",value:function(){var e=this.context,t=e.updateScore,n=e.score;this.setState({keyDownSuccess:null}),t(Object(c.a)({},n,{points:n.points+this.errorPoint,errorCount:n.errorCount+1}))}},{key:"doneProccessKeyDown",value:function(){this.setState({keyDownSuccess:!0})}},{key:"errorProccessKeyDown",value:function(){this.setState({keyDownSuccess:!1})}},{key:"render",value:function(){var e=this.state,t=e.listItems,n=e.keyDownSuccess,a=this.context,o=a.isKeyDown,i=a.status,c=a.score,s="".concat("arrow-key",n?"--success":"--error");return r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"game__container",style:{left:"".concat(-100*c.successCount,"px")}},t.map((function(e,t){var n=t===c.successCount&&o&&i.run&&s;return r.a.createElement("img",{className:"".concat("arrow-key"," ").concat(n),src:e.icon,alt:""})}))))}}]),t}(a.PureComponent));D.contextType=y;var G=n(349),I=n(61),z=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).onCancelHandler=n.onCancelHandler.bind(Object(d.a)(n)),n.onOkHandler=n.onOkHandler.bind(Object(d.a)(n)),n.toggleShowAgainChecbox=n.toggleShowAgainChecbox.bind(Object(d.a)(n)),n.state={visible:!0,showAgain:!0,setCookie:b.a.load("onboarding")},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"onCancelHandler",value:function(){this.setState({visible:!1})}},{key:"onOkHandler",value:function(){var e=this.state.showAgain;this.onCancelHandler(),e||b.a.save("onboarding",!0)}},{key:"toggleShowAgainChecbox",value:function(){this.setState((function(e){return{showAgain:!e.showAgain}}))}},{key:"render",value:function(){var e=this.state,t=e.visible,n=e.setCookie,a={className:"app-onboarding",title:"Bienvenid@ a arrow game",okText:"Comenzar",visible:t&&!n,centered:!0,closable:!1,onOk:this.onOkHandler,onCancel:this.onCancelHandler};return r.a.createElement(G.a,a,this.content)}},{key:"content",get:function(){var e=this.state.showAgain;return r.a.createElement(a.Fragment,null,r.a.createElement("p",null,"Para comenzar a jugar, tentr\xe1s que utlizar el teclado."),r.a.createElement("img",{src:"https://framlopez.github.io/arrows-game/arrows-keyboard-onboarding.png",alt:"",width:"100%"}),r.a.createElement(I.a,{checked:!e,onChange:this.toggleShowAgainChecbox},"No volver a mostrar este mensaje"))}}]),t}(a.PureComponent),K=n(351),H=n(346),N=[{title:"Motivo",dataIndex:"id1",key:"id1"},{title:"Cantidad",dataIndex:"id2",key:"id2",align:"right"},{title:"Puntos",dataIndex:"id3",key:"id3",render:function(e){var t="geekblue",n=" ";return e<0?(t="volcano",n=""):e>0&&(t="green",n="+"),r.a.createElement("span",null,r.a.createElement(K.a,{color:t},"".concat(n).concat(e)))}}],A=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.context.score,t=[{key:"1",id1:"Movimientos acertados",id2:e.successCount,id3:1*e.successCount},{key:"2",id1:"Movimientos fallidos",id2:e.errorCount,id3:-2*e.errorCount}];return r.a.createElement(H.a,{bordered:!0,columns:N,dataSource:t,pagination:!1,size:"small"})}}]),t}(a.PureComponent);A.contextType=y;var _=n(347),M=O.a.Title,R=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.text;return r.a.createElement(_.a,{title:this.title},r.a.createElement(M,null,e))}},{key:"title",get:function(){var e=this.props,t=e.title,n=e.iconType;return r.a.createElement(a.Fragment,null,r.a.createElement(S.a,{type:n})," ".concat(t))}}]),t}(a.PureComponent);R.contextType=y;var F=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).onResetGame=n.onResetGame.bind(Object(d.a)(n)),n.onShareGame=n.onShareGame.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"onResetGame",value:function(){(0,this.context.resetTimer)()}},{key:"onShareGame",value:function(){var e=this.context.score;window.open("https://twitter.com/intent/tweet?text=Este es mi \xfaltimo score: ".concat(e.points))}},{key:"render",value:function(){var e={title:"Resultados",okText:"Compartir",cancelText:"Volver a jugar",visible:this.props.visible,centered:!0,closable:!1,onOk:this.onShareGame,onCancel:this.onResetGame};return r.a.createElement(G.a,e,this.content)}},{key:"content",get:function(){var e=this.context.score;return r.a.createElement(a.Fragment,null,r.a.createElement(R,{title:"Puntaje partida",iconType:"caret-right",text:e.points}),r.a.createElement(A,null))}}]),t}(a.PureComponent);F.contextType=y;var B=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.context.score;return r.a.createElement("div",{className:"app-score-cards"},r.a.createElement(R,{title:"Mejor puntaje",iconType:"crown",text:b.a.load("best_score")||"-"}),r.a.createElement(R,{title:"Puntaje partida",iconType:"caret-right",text:e.points}))}}]),t}(a.PureComponent);B.contextType=y;n(343);var J=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).resetTimer=n.resetTimer.bind(Object(d.a)(n)),n.startTimer=n.startTimer.bind(Object(d.a)(n)),n.stopTimer=n.stopTimer.bind(Object(d.a)(n)),n.updateScore=n.updateScore.bind(Object(d.a)(n));var a=v.initialGameStatus,r=v.initialGameScore,o=v.initialGameTimer;return n.state={status:a,score:r,timer:o,lastId:null,isKeyDown:!1},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",(function(t){var n;switch(t.which){case 37:n="left";break;case 38:n="top";break;case 39:n="right";break;case 40:n="bottom";break;default:return null}e.setState({lastId:n,isKeyDown:!0})})),document.addEventListener("keyup",(function(){e.setState((function(e){return{score:Object(c.a)({},e.score,{allCount:e.status.run?e.score.allCount+1:e.score.allCount}),isKeyDown:!1}}))}))}},{key:"resetTimer",value:function(){var e=v.initialGameStatus,t=v.initialGameScore,n=v.initialGameTimer,a=this.state.score;(a.points>b.a.load("best_score")||!b.a.load("best_score"))&&b.a.save("best_score",a.points),clearInterval(this.timer),this.setState({status:e,timer:n,score:t,lastId:null})}},{key:"startTimer",value:function(){var e=this;this.setState({status:{run:!0,ready:!0}}),this.timer=setInterval((function(){e.setState((function(e){return{timer:e.timer-1}}))}),1e3)}},{key:"stopTimer",value:function(){clearInterval(this.timer),this.setState({status:{run:!1,ready:!1},lastId:null})}},{key:"updateScore",value:function(e){this.setState((function(t){return{score:e,lastId:null}}))}},{key:"render",value:function(){var e=this.state.status,t=Object(c.a)({},this.state,{resetTimer:this.resetTimer,startTimer:this.startTimer,stopTimer:this.stopTimer,updateScore:this.updateScore});return r.a.createElement(y.Provider,{value:t},r.a.createElement("div",{className:"aplication"},r.a.createElement(j,null),r.a.createElement(x,null),r.a.createElement(D,null),r.a.createElement(B,null),r.a.createElement(z,null),r.a.createElement(F,{visible:!e.run&&!e.ready})))}}]),t}(a.PureComponent);n(344);i.a.render(r.a.createElement(J,null),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.177532cf.chunk.js.map